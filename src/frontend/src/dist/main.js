function H(){document.querySelectorAll(".page, #page-main").forEach((f)=>{f.style.display="none"})}function D(f){H();let j=document.getElementById(f);if(j)j.style.display="block";else{let z=document.getElementById("page-main");if(z)z.style.display="block"}}function J(){document.querySelectorAll(".card").forEach((f)=>{f.addEventListener("click",()=>{let j=f.dataset.view;if(!j)return;switch(j){case"scan-network":D("page-scan-start");break;case"ping-device":D("page-ping-device");break;case"security-audit":D("page-security-audit");break;case"saved-profiles":D("page-profiles-list");break;case"mac-addresses":D("page-mac-addresses");break;case"saved-devices":D("page-saved-devices");break;case"user-command":D("page-user-command");break;case"export-report":break}})})}function K(){let f=document.querySelector(".settings-btn"),j=document.getElementById("settings");if(!f||!j)return;f.addEventListener("click",()=>{j.style.display="flex"}),j.addEventListener("click",(z)=>{if(z.target===j)j.style.display="none"})}function L(){document.querySelectorAll("[data-back]").forEach((f)=>{f.addEventListener("click",()=>{D("page-main")})})}function F(f){let j=document.getElementById("pingOutput");if(j)j.textContent=f}function N(){let f=document.getElementById("pingGoBtn");if(!f)return;f.addEventListener("click",async()=>{let j=document.getElementById("pingAddress");if(!j)return;F(`Pinging ${j.value}...`);let z=await Q("ping",{ip:j.value});if(z.error){F("Error: "+z.error);return}F(z.alive?"Device is online":"Device is offline")})}async function Q(f,j={}){let z=new URLSearchParams({action:f,...j});return(await fetch("../../api.php?"+z.toString())).json()}function R(){let f=document.getElementById("settings-switch");if(!f)return;if(f.addEventListener("click",()=>{document.body.classList.toggle("dark"),localStorage.setItem("theme",document.body.classList.contains("dark")?"dark":"light")}),localStorage.getItem("theme")==="dark")document.body.classList.add("dark")}function U(){J(),K(),L(),N(),R(),D("page-main")}document.addEventListener("DOMContentLoaded",U);
